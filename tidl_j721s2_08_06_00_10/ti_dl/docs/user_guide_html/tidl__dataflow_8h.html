<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>TI Deep Learning Product User Guide: tidl_dataflow.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TI Deep Learning Product User Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tidl__dataflow_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tidl_dataflow.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Introduction</h2>
<div class="textblock"><p>This file contains interface to use TIDL's DMA dataflow to pipeline optimized kernel processing with DMA. </p>
<p>Usage Scenario 1 : User wants to write a best optimized version where they have some processing task which is not required to be repeated with every time kernel is called with new input within a layer's processing. To allow user to have this one time kind of processing an initialization function option is provided. User can implement such processing and then provide the function pointer to TIDL_DataflowInit function as part of TIDL_DataflowInitParams-&gt;initFuncPtr. User is expected to adhere to the signature of initFuncPtr and the same can be found in TIDL_DataflowKernelInitFuncPtr definition When user provides initFuncPtr, TIDL will internally call this function to create multiple kernel handles based on which region of the tensor processing is happening ( e.g. whether its last block of processing where dimension of processing block can be different). The information of the dimension is provided by srcAddr and dstAddr arguments to the init function and user is expected to use these dimension for the implementation of this function. Typically things which are needed only once per tensor/frame can be computed inside this function and stored in the handle. This will avoid their computation during execute call. Eg. of such information can be SE/SA templates creation which are used during kernel implementation, or some one time buffer used by the kernel. This is the preferred usage as it will be optimal without user needing to handle various regions of processing.</p>
<p>Below code shows a sample usage of these API's for this scenario</p>
<p><a class="el" href="structTIDL__DataflowInitParams.html" title="A structure for a 3 dimensional buffer descriptor. ">TIDL_DataflowInitParams</a> initParams; TIDL_CustomMaxPoolIxXOxXInitArgs kernelInitArgs;</p>
<p>initParams.dataFlowType = TIDL_DataFlowTypeOneTensorInProcOneChannel; initParams.getHandleSize = TIDL_customMaxPool_ixX_oxX_getHandleSize; initParams.initFuncPtr = TIDL_customMaxPool_ixX_oxX_init; initParams.execFuncPtr = TIDL_customMaxPool_ixX_oxX_exec; initParams.kernelInitArgs = &amp; kernelInitArgs;</p>
<p>status = TIDL_DataflowInit(tidlHandle, &amp;initParams);</p>
<p>status = TIDL_DataflowProcess(tidlHandle, inPtrs, outPtrs);</p>
<p>Usage Scenario 2 : User want to quick start with a basic implementation without separating initialization and core repetitive processing. Then they can avoid providing initFuncPtr and the same can be set it to NULL. In this scenario user is expected to adhere to the signature of execFuncPtr and the same can be found in TIDL_DataflowKernelExecFuncPtr located in this file. Mainly srcAddr and dstAddr should be used for implemenation. These two parameters can be ignored ( they will be NULL) if initFuncPtr != NULL</p>
<p>srcAddr and dstAddr uses a structure <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> which can be found inside ti_dl\tidl_bufParams.h. It has following fields : data_type dim_x : The width of the buffer in X dimension in elements. This corresponds to width of the tensor which is going to processed in a given kernel call dim_y : The Height of the buffer in Y dimension in elements. This corresponds to height of the tensor which is going to processed in a given kernel call dim_z : The depth of the buffer in Z dimension in elements. This corresponds to number of channels which are going to processed in a given kernel call stride_y : Jump in bytes to move in dimesntion Y stride_z : Jump in bytes to move in dimesntion Z</p>
<p>Note :</p><ul>
<li>Currently this API only supports layer which takes single input and generates single output.</li>
<li>Upscale kind of layers which increases the output resolution have not been validated</li>
<li>Ratio of input and output dimension is expected to be an integer.</li>
<li>Current implementation does not handle optimization for large resolution </li>
</ul>
</div>
<p><a href="tidl__dataflow_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTIDL__DataflowInitParams.html">TIDL_DataflowInitParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A structure for a 3 dimensional buffer descriptor.  <a href="structTIDL__DataflowInitParams.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">TIDL Data Type</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="TIDL_data_type_e"></a></p>
<p>Group containing all data types </p>
</div></td></tr>
<tr class="memitem:a6782ddd7ed8cc3cc1857e8ac4a870bb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a6782ddd7ed8cc3cc1857e8ac4a870bb0">TIDL_INT8</a>&#160;&#160;&#160;((uint32_t) 0)</td></tr>
<tr class="separator:a6782ddd7ed8cc3cc1857e8ac4a870bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb5f1496aab7a54bd48e9d49a384ba7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#abb5f1496aab7a54bd48e9d49a384ba7a">TIDL_INT16</a>&#160;&#160;&#160;((uint32_t) 1)</td></tr>
<tr class="separator:abb5f1496aab7a54bd48e9d49a384ba7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390137a5816e552bfd904b4399af81c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a390137a5816e552bfd904b4399af81c9">TIDL_INT32</a>&#160;&#160;&#160;((uint32_t) 2)</td></tr>
<tr class="separator:a390137a5816e552bfd904b4399af81c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749f5a1c660dd61743e019fe3840c0b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a749f5a1c660dd61743e019fe3840c0b5">TIDL_INT64</a>&#160;&#160;&#160;((uint32_t) 3)</td></tr>
<tr class="separator:a749f5a1c660dd61743e019fe3840c0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0af15bf0c3589f09d86db946e1358d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a4c0af15bf0c3589f09d86db946e1358d">TIDL_UINT8</a>&#160;&#160;&#160;((uint32_t) 4)</td></tr>
<tr class="separator:a4c0af15bf0c3589f09d86db946e1358d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83fc985bb151eff5dc42680ec6647544"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a83fc985bb151eff5dc42680ec6647544">TIDL_UINT16</a>&#160;&#160;&#160;((uint32_t) 5)</td></tr>
<tr class="separator:a83fc985bb151eff5dc42680ec6647544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4303d9c262ee0b565731910aa8a89177"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a4303d9c262ee0b565731910aa8a89177">TIDL_UINT24</a>&#160;&#160;&#160;((uint32_t) 6)</td></tr>
<tr class="separator:a4303d9c262ee0b565731910aa8a89177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b450ced445d377ac9c4a21c56f290d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a8b450ced445d377ac9c4a21c56f290d8">TIDL_UINT32</a>&#160;&#160;&#160;((uint32_t) 7)</td></tr>
<tr class="separator:a8b450ced445d377ac9c4a21c56f290d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e68a2ab8d9ac1690133fef9047dd1a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#ab8e68a2ab8d9ac1690133fef9047dd1a">TIDL_UINT64</a>&#160;&#160;&#160;((uint32_t) 8)</td></tr>
<tr class="separator:ab8e68a2ab8d9ac1690133fef9047dd1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7edff382909471aaae2acb4994d2499"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#ad7edff382909471aaae2acb4994d2499">TIDL_FLOAT16</a>&#160;&#160;&#160;((uint32_t) 9)</td></tr>
<tr class="separator:ad7edff382909471aaae2acb4994d2499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2bc74c5268f85a859e1d32f0bfef64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#afe2bc74c5268f85a859e1d32f0bfef64">TIDL_FLOAT32</a>&#160;&#160;&#160;((uint32_t) 10)</td></tr>
<tr class="separator:afe2bc74c5268f85a859e1d32f0bfef64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7115bcc774ecccfee7d90abdf265f198"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a7115bcc774ecccfee7d90abdf265f198">TIDL_FLOAT64</a>&#160;&#160;&#160;((uint32_t) 11)</td></tr>
<tr class="separator:a7115bcc774ecccfee7d90abdf265f198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TIDL various dataflow types supported</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="eTIDL_DataFlowType"></a></p>
<p>This group defines the different types of dataflow types that are supported</p>
<p>TIDL_DataFlowTypeMulInProcOneByOne </p>
</div></td></tr>
<tr class="memitem:a385bc33e69ee5662db2316ffd7ec006a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a385bc33e69ee5662db2316ffd7ec006a">TIDL_DataFlowTypeOneTensorInProcOneChannel</a>&#160;&#160;&#160;((int32_t) 0)</td></tr>
<tr class="memdesc:a385bc33e69ee5662db2316ffd7ec006a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel processing happens with one input tensor and one input channel is used to produce one output channel - example depth wise separable convolution, pooling etc. Note that processing can happen on more than one channel at time but for producing an output of a channel is not dependent on the other channel.  <a href="#a385bc33e69ee5662db2316ffd7ec006a">More...</a><br /></td></tr>
<tr class="separator:a385bc33e69ee5662db2316ffd7ec006a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf43994a2434081428b9c224d1b0c762"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#abf43994a2434081428b9c224d1b0c762">TIDL_DataFlowTypeOneTensorInProcMultiChannel</a>&#160;&#160;&#160;((int32_t) 1)</td></tr>
<tr class="memdesc:abf43994a2434081428b9c224d1b0c762"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kernel processing happens with one input tensor but all input channels are used to produce one output channel - example convolution, argmax.  <a href="#abf43994a2434081428b9c224d1b0c762">More...</a><br /></td></tr>
<tr class="separator:abf43994a2434081428b9c224d1b0c762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a370e55a324a8b6cbd7e4a755b3a1f952"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a370e55a324a8b6cbd7e4a755b3a1f952">TIDL_DataFlowTypeMultiTensorInProcOneTensor</a>&#160;&#160;&#160;((int32_t) 2)</td></tr>
<tr class="memdesc:a370e55a324a8b6cbd7e4a755b3a1f952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of input tensors are more than one but processing happens with one tensor at a time producing one output tensor, also dimension (C,H,W) of all tensors can be different - example Concat.  <a href="#a370e55a324a8b6cbd7e4a755b3a1f952">More...</a><br /></td></tr>
<tr class="separator:a370e55a324a8b6cbd7e4a755b3a1f952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9607f46c9ebb354518f78b7bc90ed8de"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a9607f46c9ebb354518f78b7bc90ed8de">TIDL_DataFlowTypeMultiTensorInProcMultiTensor</a>&#160;&#160;&#160;((int32_t) 3)</td></tr>
<tr class="memdesc:a9607f46c9ebb354518f78b7bc90ed8de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of input tensors are more than one and all tensors are used to produce output, also dimension (C,H,W) of all tensors should be same. example Eltwise.  <a href="#a9607f46c9ebb354518f78b7bc90ed8de">More...</a><br /></td></tr>
<tr class="separator:a9607f46c9ebb354518f78b7bc90ed8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3b0cf91d71eb0f61baab42d61e19c6b7"><td class="memItemLeft" align="right" valign="top">typedef int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a3b0cf91d71eb0f61baab42d61e19c6b7">TIDL_DataflowKernelGetHandleSize</a>) (void *pKerInitArgs)</td></tr>
<tr class="memdesc:a3b0cf91d71eb0f61baab42d61e19c6b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function call is required to know the memroy required by kernel handle.  <a href="#a3b0cf91d71eb0f61baab42d61e19c6b7">More...</a><br /></td></tr>
<tr class="separator:a3b0cf91d71eb0f61baab42d61e19c6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e1df04d17820157170803d88b003de9"><td class="memItemLeft" align="right" valign="top">typedef int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a7e1df04d17820157170803d88b003de9">TIDL_DataflowKernelInitFuncPtr</a>) (void *kernelHandle, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *srcAddr, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *dstAddr, void *pKerInitArgs)</td></tr>
<tr class="memdesc:a7e1df04d17820157170803d88b003de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function call is required to initialize the handle. In this function most of the one time operation are performed and results are stored in handle.  <a href="#a7e1df04d17820157170803d88b003de9">More...</a><br /></td></tr>
<tr class="separator:a7e1df04d17820157170803d88b003de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4440b5502ce8015c5ab5e41237d8cf9e"><td class="memItemLeft" align="right" valign="top">typedef int32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a4440b5502ce8015c5ab5e41237d8cf9e">TIDL_DataflowKernelExecFuncPtr</a>) (void *kernelHandle, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *srcAddr, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *dstAddr, const void *srcPtr[], void *dstPtr)</td></tr>
<tr class="memdesc:a4440b5502ce8015c5ab5e41237d8cf9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is the main compute function, and performs the argmaxing operation for CNN. It is called multiple times.  <a href="#a4440b5502ce8015c5ab5e41237d8cf9e">More...</a><br /></td></tr>
<tr class="separator:a4440b5502ce8015c5ab5e41237d8cf9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae135aca0bc890e46921aed2c92d2acdd"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#ae135aca0bc890e46921aed2c92d2acdd">TIDL_DataflowInit</a> (void *tidlHandle, <a class="el" href="structTIDL__DataflowInitParams.html">TIDL_DataflowInitParams</a> *initParams)</td></tr>
<tr class="memdesc:ae135aca0bc890e46921aed2c92d2acdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initialized the dataflow handle.  <a href="#ae135aca0bc890e46921aed2c92d2acdd">More...</a><br /></td></tr>
<tr class="separator:ae135aca0bc890e46921aed2c92d2acdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f89a6f1da5a6019be95f5e73d4dd1af"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tidl__dataflow_8h.html#a0f89a6f1da5a6019be95f5e73d4dd1af">TIDL_DataflowProcess</a> (void *tidlHandle, void *inPtrs[], void *outPtr[])</td></tr>
<tr class="memdesc:a0f89a6f1da5a6019be95f5e73d4dd1af"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initialized the dataflow handle.  <a href="#a0f89a6f1da5a6019be95f5e73d4dd1af">More...</a><br /></td></tr>
<tr class="separator:a0f89a6f1da5a6019be95f5e73d4dd1af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6782ddd7ed8cc3cc1857e8ac4a870bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6782ddd7ed8cc3cc1857e8ac4a870bb0">&#9670;&nbsp;</a></span>TIDL_INT8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_INT8&#160;&#160;&#160;((uint32_t) 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abb5f1496aab7a54bd48e9d49a384ba7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb5f1496aab7a54bd48e9d49a384ba7a">&#9670;&nbsp;</a></span>TIDL_INT16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_INT16&#160;&#160;&#160;((uint32_t) 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a390137a5816e552bfd904b4399af81c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390137a5816e552bfd904b4399af81c9">&#9670;&nbsp;</a></span>TIDL_INT32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_INT32&#160;&#160;&#160;((uint32_t) 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a749f5a1c660dd61743e019fe3840c0b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749f5a1c660dd61743e019fe3840c0b5">&#9670;&nbsp;</a></span>TIDL_INT64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_INT64&#160;&#160;&#160;((uint32_t) 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c0af15bf0c3589f09d86db946e1358d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c0af15bf0c3589f09d86db946e1358d">&#9670;&nbsp;</a></span>TIDL_UINT8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_UINT8&#160;&#160;&#160;((uint32_t) 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a83fc985bb151eff5dc42680ec6647544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83fc985bb151eff5dc42680ec6647544">&#9670;&nbsp;</a></span>TIDL_UINT16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_UINT16&#160;&#160;&#160;((uint32_t) 5)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4303d9c262ee0b565731910aa8a89177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4303d9c262ee0b565731910aa8a89177">&#9670;&nbsp;</a></span>TIDL_UINT24</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_UINT24&#160;&#160;&#160;((uint32_t) 6)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8b450ced445d377ac9c4a21c56f290d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b450ced445d377ac9c4a21c56f290d8">&#9670;&nbsp;</a></span>TIDL_UINT32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_UINT32&#160;&#160;&#160;((uint32_t) 7)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8e68a2ab8d9ac1690133fef9047dd1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8e68a2ab8d9ac1690133fef9047dd1a">&#9670;&nbsp;</a></span>TIDL_UINT64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_UINT64&#160;&#160;&#160;((uint32_t) 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad7edff382909471aaae2acb4994d2499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7edff382909471aaae2acb4994d2499">&#9670;&nbsp;</a></span>TIDL_FLOAT16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_FLOAT16&#160;&#160;&#160;((uint32_t) 9)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afe2bc74c5268f85a859e1d32f0bfef64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2bc74c5268f85a859e1d32f0bfef64">&#9670;&nbsp;</a></span>TIDL_FLOAT32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_FLOAT32&#160;&#160;&#160;((uint32_t) 10)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7115bcc774ecccfee7d90abdf265f198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7115bcc774ecccfee7d90abdf265f198">&#9670;&nbsp;</a></span>TIDL_FLOAT64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_FLOAT64&#160;&#160;&#160;((uint32_t) 11)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a385bc33e69ee5662db2316ffd7ec006a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a385bc33e69ee5662db2316ffd7ec006a">&#9670;&nbsp;</a></span>TIDL_DataFlowTypeOneTensorInProcOneChannel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_DataFlowTypeOneTensorInProcOneChannel&#160;&#160;&#160;((int32_t) 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kernel processing happens with one input tensor and one input channel is used to produce one output channel - example depth wise separable convolution, pooling etc. Note that processing can happen on more than one channel at time but for producing an output of a channel is not dependent on the other channel. </p>

</div>
</div>
<a id="abf43994a2434081428b9c224d1b0c762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf43994a2434081428b9c224d1b0c762">&#9670;&nbsp;</a></span>TIDL_DataFlowTypeOneTensorInProcMultiChannel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_DataFlowTypeOneTensorInProcMultiChannel&#160;&#160;&#160;((int32_t) 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kernel processing happens with one input tensor but all input channels are used to produce one output channel - example convolution, argmax. </p>

</div>
</div>
<a id="a370e55a324a8b6cbd7e4a755b3a1f952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a370e55a324a8b6cbd7e4a755b3a1f952">&#9670;&nbsp;</a></span>TIDL_DataFlowTypeMultiTensorInProcOneTensor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_DataFlowTypeMultiTensorInProcOneTensor&#160;&#160;&#160;((int32_t) 2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of input tensors are more than one but processing happens with one tensor at a time producing one output tensor, also dimension (C,H,W) of all tensors can be different - example Concat. </p>

</div>
</div>
<a id="a9607f46c9ebb354518f78b7bc90ed8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9607f46c9ebb354518f78b7bc90ed8de">&#9670;&nbsp;</a></span>TIDL_DataFlowTypeMultiTensorInProcMultiTensor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIDL_DataFlowTypeMultiTensorInProcMultiTensor&#160;&#160;&#160;((int32_t) 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of input tensors are more than one and all tensors are used to produce output, also dimension (C,H,W) of all tensors should be same. example Eltwise. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a3b0cf91d71eb0f61baab42d61e19c6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0cf91d71eb0f61baab42d61e19c6b7">&#9670;&nbsp;</a></span>TIDL_DataflowKernelGetHandleSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int32_t(* TIDL_DataflowKernelGetHandleSize) (void *pKerInitArgs)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function call is required to know the memroy required by kernel handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pKerInitArgs</td><td>: Pointer to structure holding init parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of the handle</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>

</div>
</div>
<a id="a7e1df04d17820157170803d88b003de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e1df04d17820157170803d88b003de9">&#9670;&nbsp;</a></span>TIDL_DataflowKernelInitFuncPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int32_t(* TIDL_DataflowKernelInitFuncPtr) (void *kernelHandle, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *srcAddr, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *dstAddr, void *pKerInitArgs)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function call is required to initialize the handle. In this function most of the one time operation are performed and results are stored in handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">kernelHandle</td><td>: Active handle to the kernel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srcAddr</td><td>: Pointer to structure containing dimensional information of source data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dstAddr</td><td>: Pointer to structure containing dimensional information of dst </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pKerInitArgs</td><td>: Pointer to structure holding init parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of success or failure</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>

</div>
</div>
<a id="a4440b5502ce8015c5ab5e41237d8cf9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4440b5502ce8015c5ab5e41237d8cf9e">&#9670;&nbsp;</a></span>TIDL_DataflowKernelExecFuncPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int32_t(* TIDL_DataflowKernelExecFuncPtr) (void *kernelHandle, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *srcAddr, const <a class="el" href="structTIDL__bufParams3D__t.html">TIDL_bufParams3D_t</a> *dstAddr, const void *srcPtr[], void *dstPtr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is the main compute function, and performs the argmaxing operation for CNN. It is called multiple times. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">kernelHandle</td><td>Active handle to the kernel </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srcAddr</td><td>: Pointer to structure containing dimensional information of source data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dstAddr</td><td>: Pointer to structure containing dimensional information of dst </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srcPtr[]</td><td>: List of Pointers to buffer holding input data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dstPtr</td><td>: Pointer to buffer holding output feature map data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of success or failure </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae135aca0bc890e46921aed2c92d2acdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae135aca0bc890e46921aed2c92d2acdd">&#9670;&nbsp;</a></span>TIDL_DataflowInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t TIDL_DataflowInit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tidlHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTIDL__DataflowInitParams.html">TIDL_DataflowInitParams</a> *&#160;</td>
          <td class="paramname"><em>initParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initialized the dataflow handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tidlHandle</td><td>[IN] Handle for the dataFlow ( this is created via TIDL_DataflowInit API) </td></tr>
    <tr><td class="paramname">initParams</td><td>[IN] Pointer to initParams </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error Status </dd></dl>

</div>
</div>
<a id="a0f89a6f1da5a6019be95f5e73d4dd1af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f89a6f1da5a6019be95f5e73d4dd1af">&#9670;&nbsp;</a></span>TIDL_DataflowProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t TIDL_DataflowProcess </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tidlHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>inPtrs</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>outPtr</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initialized the dataflow handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tidlHandle</td><td>[IN] Handle for the dataFlow ( this is created via TIDL_DataflowInit API) </td></tr>
    <tr><td class="paramname">inPtrs[]</td><td>[IN] List of pointers input tensors </td></tr>
    <tr><td class="paramname">outPtr</td><td>[IN] Pointer to the output tensors</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error Status </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3e481d1f41039b6ec58de16f92148611.html">inc</a></li><li class="navelem"><a class="el" href="tidl__dataflow_8h.html">tidl_dataflow.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
