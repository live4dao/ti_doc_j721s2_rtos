<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>TI Deep Learning Product User Guide: TIDL-RT: Output Post Processing in Test Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TI Deep Learning Product User Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_tidl_fsg_output_post_processing.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TIDL-RT: Output Post Processing in Test Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#did_tidl_post_proc_intro">Introduction</a><ul><li class="level2"><a href="#did_tidl_pp_class_accuracy">Classification Accuracy</a></li>
<li class="level2"><a href="#did_tidl_pp_od_bbox">Object Detection Box drawing</a></li>
<li class="level2"><a href="#did_tidl_pp_segnet_blending">Pixel Level Color Blending</a></li>
<li class="level2"><a href="#did_tidl_pp_miou">Pixel Level MeanIOU Accuracy</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="did_tidl_post_proc_intro"></a>
Introduction</h1>
<p>TIDL-RT supports following post processing types in TIDL-RT test application to sanity test the model deployments.</p><ul>
<li>postProcType - 1 : Classification Accuracy</li>
<li>postProcType - 2 : Object Detection Box drawing</li>
<li>postProcType - 3 : Pixel Level Color Blending</li>
<li>postProcType - 4 : Pixel Level MeanIOU Accuracy</li>
</ul>
<p><b>Note:</b> For all the post processing TIDL-RT import/infer config parameter "inFileFormat" shall be 2. All the these post processing are available as part of TIDL-RT test application and are only meant for demo purpose and are not of production quality.</p>
<h2><a class="anchor" id="did_tidl_pp_class_accuracy"></a>
Classification Accuracy</h2>
<p>This post processing option can be enabled by setting postProcType = 1 in TIDL-RT import/infer configuration file. This option implements Top-1 and Top-5 accuracy computation for classification networks. The inData parameter in import/infer config file shall contain the list of all the input images along with their expected class index (ground truth). Please refer the imageNet_sample_val.txt file in ti_dl/test/testvecs/config folder as a reference to understand how to provide the input.</p>
<p>Following figure shows an example of how the output with this post processing option will be displayed: </p><div class="image">
<img src="Postproc_1.PNG" alt="Postproc_1.PNG"/>
<div class="caption">
Classification Accuracy</div></div>
<p>In this example :</p><ul>
<li>The fist number after "A:" is expected class index.</li>
<li>The Second is Top 1 Accuracy (1 means 100%) till current frame processing.</li>
<li>The Third is Top 5 Accuracy (1 means 100%) till current frame processing.</li>
<li>The Last is Predicted Class index for the current Frame</li>
</ul>
<h2><a class="anchor" id="did_tidl_pp_od_bbox"></a>
Object Detection Box drawing</h2>
<p>This post processing option can be enabled by setting postProcType = 2 in TIDL-RT import/infer configuration file. This option generates an output image where a bounding box is drawn on all the detected objects on top of original input image. Each class is represented by a unique color. The input file shall contain the list of input images to be processed. The maximum number of classes in this post processing option is limited to 21. Note that there is no limit on number of detected objects.</p>
<div class="image">
<img src="Postproc_2.PNG" alt="Postproc_2.PNG"/>
<div class="caption">
Object Detection BBox</div></div>
 <h2><a class="anchor" id="did_tidl_pp_segnet_blending"></a>
Pixel Level Color Blending</h2>
<p>This post processing option can be enabled by setting postProcType = 3 in TIDL-RT import/infer configuration file. This option generates an output image which is a blended image of input image with a unique color for each class index or depth estimation for every input pixel.</p>
<div class="image">
<img src="Postproc_3.PNG" alt="Postproc_3.PNG"/>
<div class="caption">
Pixel Level Semantic Segmentation</div></div>
 <h2><a class="anchor" id="did_tidl_pp_miou"></a>
Pixel Level MeanIOU Accuracy</h2>
<p>This post processing option can be enabled by setting postProcType = 4 in TIDL-RT import/infer configuration file. This option will enable MeanIOU accuracy computation for pixel level segmentation networks. The input list file shall contain the list of input images with ground truth image for each input. The inData parameter in import/infer config file shall contain the list of all the input images along with their expected ground truth image. Please refer the segmentation_list.txt file in ti_dl/test/testvecs/config folder as a reference to understand how to provide the input. When Post Processing 4 is enabled, then pixel level color blending as mentioned in postProcType = 3 is enabled by default. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
