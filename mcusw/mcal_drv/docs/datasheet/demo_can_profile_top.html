<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>MCUSW Datasheet: CAN Profiling Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MCUSW Datasheet
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('demo_can_profile_top.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CAN Profiling Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#demo_can_profile_intro">Introduction</a><ul><li class="level2"><a href="#demo_can_profile_depend">Dependencies</a></li>
</ul>
</li>
<li class="level1"><a href="#demo_can_profile_flowchart">Flow Chart</a></li>
<li class="level1"><a href="#demo_can_profile_measurement">Measured Performance</a></li>
<li class="level1"><a href="#demo_can_profile_measurement_cpu_hz">CPU Hz required</a></li>
<li class="level1"><a href="#demo_can_profile_measurement_response_time">CAN Response Time</a></li>
<li class="level1"><a href="#demo_can_profile_demo_cfg">Compile Time Configurations</a></li>
<li class="level1"><a href="#demo_can_profile_demo_cfg_custom_top">Customizing Examples Application</a><ul><li class="level2"><a href="#demo_can_profile_demo_cfg_custom_tx">TX Only</a></li>
<li class="level2"><a href="#demo_can_profile_demo_cfg_custom_rx">RX Only</a></li>
<li class="level2"><a href="#demo_can_profile_demo_cfg_custom_lpbk">Loopback (default)</a></li>
</ul>
</li>
<li class="level1"><a href="#demo_can_profile_setup_cfg">Test Setup / Configurations used</a></li>
<li class="level1"><a href="#demo_can_profile_early_can_res_top">Early CAN response</a></li>
<li class="level1"><a href="#demo_can_profile_early_can_res_j721e">J721E</a><ul><li class="level2"><a href="#demo_can_profile_steps_2_run">Steps to run with CCS</a></li>
<li class="level2"><a href="#demo_can_profile_dra80x_output">DRA80X</a><ul><li class="level3"><a href="#demo_can_profile_output_loopback">Sample output Loop back mode</a></li>
<li class="level3"><a href="#demo_can_profile_output_tx_only">Sample output transmit only mode</a></li>
</ul>
</li>
<li class="level2"><a href="#demo_can_profile_j721e_output">J721E</a><ul><li class="level3"><a href="#demo_can_profile_j721e_output_tx_only">Sample output transmit only mode on MCU1_0</a></li>
<li class="level3"><a href="#demo_can_profile_j721e_output_loopback">Sample output Loop back mode on MCU1_0</a></li>
<li class="level3"><a href="#demo_can_profile_j721e_output_rx">Sample output rx only mode on MCU1_0</a></li>
<li class="level3"><a href="#demo_can_profile_j721e_output_tx_only_mcu2_1">Sample output transmit only mode on MCU2_1</a></li>
<li class="level3"><a href="#demo_can_profile_j721e_output_loopback_mcu2_1">Sample output Loop back mode on MCU2_1</a></li>
<li class="level3"><a href="#demo_can_profile_j721e_output_rx_mcu2_1">Sample output rx only mode on MCU2_1</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#demo_can_profile_rev_history">Document Revision History</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="demo_can_profile_intro"></a>
Introduction</h1>
<hr/>
<p> This application measures the CPU cycles required for transmission of N number of packets for a given baud-rate and CAN configurations.</p>
<p>Simulates transmission of N number of CAN messages (64 bytes, CAN FD message) the received messages (when in loopback mode) is copied to local variable simulating a copy of the message by communication stack.</p>
<p>Table below list SoC/Cores on which this demo application is tested </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">SoC  </th><th class="markdownTableHeadNone">Host Core  </th><th class="markdownTableHeadNone">Comments   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DRA80X  </td><td class="markdownTableBodyNone">MCU 1 0  </td><td class="markdownTableBodyNone">None   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">J721E  </td><td class="markdownTableBodyNone">MCU 1 0 &amp; MCU 2 1  </td><td class="markdownTableBodyNone">None   </td></tr>
</table>
<hr/>
 <h2><a class="anchor" id="demo_can_profile_depend"></a>
Dependencies</h2>
<p>This application depends on multiple components and are detailed in sections below</p><ol type="1">
<li>TI RTOS : Uses <b>Task</b>, <b>semaphore</b>, <b>Interrupt Handling HWI</b> and <b>Profiling Utility</b>.</li>
<li>MCAL<ul>
<li>CAN Driver</li>
<li>Dio Driver to setup pins required for TX/RX</li>
</ul>
</li>
<li>MCAL BSW Stubs Stubs at (SDK Install Directory)/mcusw_xx.yy.xx.bb/mcuss_demos/Bsw_Stubs are used. Functions CanIf_Init (), CanIf_TxConfirmation () and CanIf_RxIndication () are required.</li>
<li>MCAL Configurations CAN &amp; DIO Configurations at (SDK Install Directory)/mcusw_xx.yy.xx.bb/mcuss_demos/mcal_config are used.</li>
</ol>
<p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
<h1><a class="anchor" id="demo_can_profile_flowchart"></a>
Flow Chart</h1>
<div class="image">
<img src="demo_can_profile_flowchart.png" alt="demo_can_profile_flowchart.png"/>
<div class="caption">
CAN Profiling Application</div></div>
<p> <a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
<h1><a class="anchor" id="demo_can_profile_measurement"></a>
Measured Performance</h1>
<h1><a class="anchor" id="demo_can_profile_measurement_cpu_hz"></a>
CPU Hz required</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">SoC Family  </th><th class="markdownTableHeadCenter">Avg K cycles per message (MCU1_0)  </th><th class="markdownTableHeadCenter">Avg K cycles per message (MCU2_1)  </th><th class="markdownTableHeadNone">Comments   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="2">DRA80X  </td><td class="markdownTableBodyCenter">6.2055  </td><td class="markdownTableBodyCenter">NA  </td><td class="markdownTableBodyNone">With Loopback enabled   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyCenter">5.2571  </td><td class="markdownTableBodyCenter">NA  </td><td class="markdownTableBodyNone">Transmit only   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone" rowspan="3">J721E  </td><td class="markdownTableBodyCenter">10.682  </td><td class="markdownTableBodyCenter">20.854  </td><td class="markdownTableBodyNone">With Loopback enabled   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyCenter">5.598  </td><td class="markdownTableBodyCenter">10.871  </td><td class="markdownTableBodyNone">Transmit only   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">9.444  </td><td class="markdownTableBodyCenter">14.680  </td><td class="markdownTableBodyNone">Receive only   </td></tr>
</table>
<h1><a class="anchor" id="demo_can_profile_measurement_response_time"></a>
CAN Response Time</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">SoC Family  </th><th class="markdownTableHeadCenter">CAN Response from Power up  </th><th class="markdownTableHeadNone">Comments   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">DRA80X  </td><td class="markdownTableBodyCenter">NA  </td><td class="markdownTableBodyNone">Not Yet Run   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">J721E  </td><td class="markdownTableBodyCenter">65 milli seconds  </td><td class="markdownTableBodyNone">Validated with OSPI boot mode, TX only mode of this application. This is expected to be optimized further in a subsequent release   </td></tr>
</table>
<p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
<h1><a class="anchor" id="demo_can_profile_demo_cfg"></a>
Compile Time Configurations</h1>
<ol type="1">
<li>APP_NUM_MSG_PER_ITERATION Controls the number of messages that would be sent per iteration</li>
<li>APP_NUM_ITERATION Number of iterations, total can messages sent would be APP_NUM_MSG_PER_ITERATION * APP_NUM_ITERATION</li>
<li>APP_INSTANCE_1_INST_IN_CFG_ONLY Use first instance of CAN peripheral configured</li>
<li>CAN_TX_ONLY_MODE Used to configure in CAN in tx only mode</li>
</ol>
<p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
 <h1><a class="anchor" id="demo_can_profile_demo_cfg_custom_top"></a>
Customizing Examples Application</h1>
<p>The profiling application is configured to operate in loop-back mode by default. This application can be configured to operate in transmit-only, receive-only or loopback mode.</p>
<p>The below table lists the configuration changes required to change mode. Please ensure to recompile post modifications.</p>
<h2><a class="anchor" id="demo_can_profile_demo_cfg_custom_tx"></a>
TX Only</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">For TX Only  </th><th class="markdownTableHeadCenter">Flag Value  </th><th class="markdownTableHeadNone">Location   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">APP_INSTANCE_1_INST_IN_CFG_ONLY  </td><td class="markdownTableBodyCenter">STD_ON  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\profiling\can\can_profile.h   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">CAN_LOOPBACK_ENABLE  </td><td class="markdownTableBodyCenter">STD_OFF  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\mcal_config\Can_Demo_Cfg\output\generated\soc\j721e\mcu1_0\include\Can_Cfg.h   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CAN_TX_ONLY_MODE  </td><td class="markdownTableBodyCenter">STD_ON  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\profiling\can\can_profile.h   </td></tr>
</table>
<p>This application would transmit CAN FD messages with extended ID (0xC0) at nominal-rate of 1 Mbps, data-rate at 5 Mbps</p>
<h2><a class="anchor" id="demo_can_profile_demo_cfg_custom_rx"></a>
RX Only</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">For RX Only  </th><th class="markdownTableHeadCenter">Flag Value  </th><th class="markdownTableHeadNone">Location   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">APP_INSTANCE_1_INST_IN_CFG_ONLY  </td><td class="markdownTableBodyCenter">STD_ON  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\profiling\can\can_profile.h   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">CAN_LOOPBACK_ENABLE  </td><td class="markdownTableBodyCenter">STD_OFF  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\mcal_config\Can_Demo_Cfg\output\generated\soc\j721e\mcu1_0\include\Can_Cfg.h   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CAN_TX_ONLY_MODE  </td><td class="markdownTableBodyCenter">STD_OFF  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\profiling\can\can_profile.h   </td></tr>
</table>
<p>This application setup to receive CAN FD messages with extended ID (0xC0) at nominal-rate of 1 Mbps, data-rate at 5 Mbps</p>
<h2><a class="anchor" id="demo_can_profile_demo_cfg_custom_lpbk"></a>
Loopback (default)</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">For Internal Loopback (default)  </th><th class="markdownTableHeadCenter">Flag Value  </th><th class="markdownTableHeadNone">Location   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">APP_INSTANCE_1_INST_IN_CFG_ONLY  </td><td class="markdownTableBodyCenter">STD_OFF  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\profiling\can\can_profile.h   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">CAN_LOOPBACK_ENABLE  </td><td class="markdownTableBodyCenter">STD_ON  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\mcal_config\Can_Demo_Cfg\output\generated\soc\j721e\mcu1_0\include\Can_Cfg.h   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CAN_TX_ONLY_MODE  </td><td class="markdownTableBodyCenter">X  </td><td class="markdownTableBodyNone">mcusw\mcuss_demos\profiling\can\can_profile.h   </td></tr>
</table>
<p>No additional connections / setup is required in this mode</p>
<p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
 <h1><a class="anchor" id="demo_can_profile_setup_cfg"></a>
Test Setup / Configurations used</h1>
<h2>Loopback mode</h2>
<ol type="1">
<li>Supported EVM / SoC <div class="image">
<img src="Can_Profiling_CanLoopbackMode.png" alt="Can_Profiling_CanLoopbackMode.png"/>
<div class="caption">
Loopback Setup</div></div>
<h2>TX Only mode</h2>
</li>
</ol>
<ol type="1">
<li>CAN_HIGH of all the nodes on the bus shall be connected together. Similary CAN_LOW of all the nodes on the bus shall be connected together. <div class="image">
<img src="Can_Profiling_CanTxOnlySetup.png" alt="Can_Profiling_CanTxOnlySetup.png"/>
<div class="caption">
DRA80X TxOnly Setup</div></div>
<div class="image">
<img src="canbootapp_j721e_can_tx_setup_closeup.png" alt="canbootapp_j721e_can_tx_setup_closeup.png"/>
<div class="caption">
J721E TxOnly Setup</div></div>
</li>
</ol>
<p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
 <h1><a class="anchor" id="demo_can_profile_early_can_res_top"></a>
Early CAN response</h1>
<h1><a class="anchor" id="demo_can_profile_early_can_res_j721e"></a>
J721E</h1>
<p>This application can be used to profile early CAN response. In our validation, we used J721E Beta EVM and oscilloscope to monitor the time interval between Power On (MCU_PORZ_OUT signal, TP117) and CAN-H line toggle (header J30) on the EVM Common Processor Board. Detailed steps are listed below</p>
<ol type="1">
<li>Build SBL using the “sbl_cust_img”, according to the SBL build instructions <a class="el" href="mcusw_c_ug_top.html#mcusw_build_top">Refer SBL build instructions</a>. This gives the minimum time spent in the bootloader phase for booting an application running on the R5 core in the MCU domain, without having to initialize any extra clocks or cores in the MAIN domain.<ol type="a">
<li>goto (SDK Install Directory)/pdk/packages/ti/build</li>
<li><pre class="fragment">make sbl_cust_img BOARD=j721e_evm SOC=j721e -sj </pre></li>
<li>sbl_cust_img_mcu1_0_release.tiimage would be available in (SDK Install Directory)/packages/ti/boot/sbl/binary/j721e_evm/cust/bin/sbl_cust_img_mcu1_0_release.tiimage</li>
<li>rename sbl_cust_img_mcu1_0_release.tiimage to <b> tiboot3.bin </b></li>
</ol>
</li>
<li>Build this application can_profile_app <a class="el" href="mcusw_c_ug_top.html#mcusw_build_all_demos">Refer MCUSW demo build instructions</a>. Ensure this application is cofigured for TX only <a class="el" href="demo_can_profile_top.html#demo_can_profile_demo_cfg_custom_tx">Refer can_profile_app config for tx only mode</a></li>
<li>Rename mcusw\binary\can_profile_app\bin\j721e_evm\can_profile_app_mcu1_0_release.appimage to <b> app </b></li>
<li>Flash the custom SBL bootloader image (tiboot3.bin) to the OSPI flash at 0x0, as given in the OSPI flashing instructions</li>
<li>Flash the SYSFW binary (<b> sysfw.bin </b>, available at (SDK Install Directory)/packages/ti/drv/sciclient/soc/V1/sysfw.bin) to the OSPI flash at 0x40000, as given in the OSPI flashing instructions</li>
<li>Flash the app to the OSPI flash at 0xA0000, as given in the OSPI flashing instructions</li>
<li>Change DIP switches on the EVM to OSPI flash boot (see PDK instructions on boot mode settings)</li>
<li>Prepare to measure the time difference with an oscilloscope and two probes, between the MCU_PORZ_OUT signal on the J721E Beta SOM (TP117), and the CAN-H line (first pin) of the J30 CAN bus header on the J721E</li>
<li>Configure the oscilloscope to trigger off of the rising edge of the MCU_PORZ_OUT signal (TP117 on the SOM board of Beta EVM), use the MCU PORz press-button (SW7) to reset/restart the EVM</li>
<li>Measure the time difference between the two signals to get the CAN response time from RESET.</li>
</ol>
<div class="image">
<img src="can_profile_app_mcu_power_point.png" alt="can_profile_app_mcu_power_point.png"/>
<div class="caption">
J721E Beta EVM : MCU_PORZ_OUT</div></div>
 <div class="image">
<img src="can_profile_app_can_connection.jpg" alt="can_profile_app_can_connection.jpg"/>
<div class="caption">
J721E Beta EVM : CAN Connector</div></div>
<p> To minimize latecies due to prints, the prints in this application could be minimized by turning OFF the flag CAN_INITIAL_PRINT_DISABLE_BEFORE_CAN_RESPONSE.</p>
<p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
<h2><a class="anchor" id="demo_can_profile_steps_2_run"></a>
Steps to run with CCS</h2>
<ol type="1">
<li>Build the demo application as detailed in <a class="el" href="mcusw_c_ug_top.html#mcusw_build_all_demos">User Guide</a></li>
<li>Steps to run is detailed in <a class="el" href="mcusw_c_ug_top.html#mcusw_run_eg">User Guide</a></li>
</ol>
<p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
 <h2><a class="anchor" id="demo_can_profile_dra80x_output"></a>
DRA80X</h2>
<h3><a class="anchor" id="demo_can_profile_output_loopback"></a>
Sample output Loop back mode</h3>
<p>Below is the log from one of the runs, when CAN is configured in loop-back mode. </p><pre class="fragment">CAN Profile App:Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver
CAN Profile App:Will Transmit &amp; Receive10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive 10000 packets 5 times
CAN Profile App:Average of 28.44355 usecs per packet
CAN Profile App:Average of 5479 packets in 1 second with CPU Load 17%
CAN Profile App:Measured Load: Total CPU: 18%, HWI: 11%, SWI:0% TSK: 6%
CAN Profile App:Message Id Received 800000c0 Message Length is 64
CAN Profile App:Test completed for 0 instance

CAN Profile App:Will Transmit &amp; Receive10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive 10000 packets 5 times
CAN Profile App:Average of 28.16011 usecs per packet
CAN Profile App:Average of 5496 packets in 1 second with CPU Load 16%
CAN Profile App:Measured Load: Total CPU: 18%, HWI: 11%, SWI:0% TSK: 5%
CAN Profile App:Message Id Received 800000b0 Message Length is 64
CAN Profile App:Test completed for 1 instance

CAN Profile App: 8192 bytes used for stack
CAN Profile App:Profiling completes!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="demo_can_profile_output_tx_only"></a>
Sample output transmit only mode</h3>
<p>Below is the log from one of the runs, when CAN is transmitting only </p><pre class="fragment">CAN Profile App:Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver
CAN Profile App:Will Transmit10000 Messages, 5 times
CAN Profile App:Transmit 10000 packets 5 times
CAN Profile App:Average of 10.33100 usecs per packet
CAN Profile App:Average of 6087 packets in 1 second with CPU Load 8%
CAN Profile App:Measured Load: Total CPU: 10%, HWI: 3%, SWI:0% TSK: 5%
CAN Profile App: 8192 bytes used for stack
CAN Profile App:Profiling completes!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a> </p><hr/>
 <h2><a class="anchor" id="demo_can_profile_j721e_output"></a>
J721E</h2>
<h3><a class="anchor" id="demo_can_profile_j721e_output_tx_only"></a>
Sample output transmit only mode on MCU1_0</h3>
<p>Below is the log from one of the runs, when CAN is transmitting only </p><pre class="fragment">CAN Profile App:Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN0!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN1!!!
CAN Profile App:Will Transmit 10000 Messages, 5 times
CAN Profile App:Transmit  10000 packets 5 times
CAN Profile App:Average of 168.14310 usecs per packet 
CAN Profile App:Average of 5942 packets in 1 second with CPU Load 3.327175% 
CAN Profile App:Measured Load: Total CPU: 3.384804%, HWI: 1.730348%, SWI:0.030284% TSK: 1.566543%
CAN Profile App: 8192 bytes used for stack 
CAN Profile App:Profiling completes sucessfully!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="demo_can_profile_j721e_output_loopback"></a>
Sample output Loop back mode on MCU1_0</h3>
<p>Below is the log from one of the runs, when CAN is configured in loop-back mode. </p><pre class="fragment">CAN Profile App:Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN0!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN1!!!
CAN Profile App:Will Transmit &amp; Receive 10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive  10000 packets 5 times
CAN Profile App:Average of 174.29802 usecs per packet 
CAN Profile App:Average of 5727 packets in 1 second with CPU Load 6.118272% 
CAN Profile App:Measured Load: Total CPU: 6.175919%, HWI: 4.495556%, SWI:0.037593% TSK: 1.585123%
CAN Profile App:Message Id Received 800000c0 Message Length is 64        
CAN Profile App:Test completed for 0 instance 

CAN Profile App:Will Transmit &amp; Receive 10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive  10000 packets 5 times
CAN Profile App:Average of 174.38655 usecs per packet 
CAN Profile App:Average of 5721 packets in 1 second with CPU Load 6.052867% 
CAN Profile App:Measured Load: Total CPU: 6.052864%, HWI: 4.412230%, SWI:0.036323% TSK: 1.604314%
CAN Profile App:Message Id Received 800000b0 Message Length is 64        
CAN Profile App:Test completed for 1 instance 

CAN Profile App: 8192 bytes used for stack 
CAN Profile App:Profiling completes sucessfully!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="demo_can_profile_j721e_output_rx"></a>
Sample output rx only mode on MCU1_0</h3>
<p>Below is the log from one of the runs, when CAN is configured in Receive only mode. </p><pre class="fragment">CAN Profile App:Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN0!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN1!!!
CAN Profile App:Will Receive 10000 Messages, 5 times
CAN Profile App:Receive  10000 packets 5 times
CAN Profile App:Average of 999.47417 usecs per packet 
CAN Profile App:Average of 1000 packets in 1 second with CPU Load 0.944542% 
CAN Profile App:Measured Load: Total CPU: 0.954338%, HWI: 0.797861%, SWI:0.033482% TSK: 0.113198%
CAN Profile App: 8192 bytes used for stack 
CAN Profile App:Profiling completes sucessfully!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="demo_can_profile_j721e_output_tx_only_mcu2_1"></a>
Sample output transmit only mode on MCU2_1</h3>
<p>Below is the log from one of the runs, when CAN is transmitting only </p><pre class="fragment">CAN Profile App: Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver Main Domain Inst 4,9,11!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN0!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN1!!!
CAN Profile App:Will Transmit 10000 Messages, 5 times
CAN Profile App:Transmit  10000 packets 5 times
CAN Profile App:Average of 173.40527 usecs per packet 
CAN Profile App:Average of 5753 packets in 1 second with CPU Load 6.254539% 
CAN Profile App:Measured Load: Total CPU: 6.318008%, HWI: 2.229443%, SWI:0.071245% TSK: 3.953852%
CAN Profile App: 8192 bytes used for stack 
CAN Profile App:Profiling completes sucessfully!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="demo_can_profile_j721e_output_loopback_mcu2_1"></a>
Sample output Loop back mode on MCU2_1</h3>
<p>Below is the log from one of the runs, when CAN is configured in loop-back mode. </p><pre class="fragment">CAN Profile App: Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver Main Domain Inst 4,9,11!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN0!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN1!!!
CAN Profile App:Will Transmit &amp; Receive 10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive  10000 packets 5 times
CAN Profile App:Average of 183.43092 usecs per packet 
CAN Profile App:Average of 5438 packets in 1 second with CPU Load 10.759684% 
CAN Profile App:Measured Load: Total CPU: 10.819618%, HWI: 6.575078%, SWI:0.100596% TSK: 4.084010%
CAN Profile App:Message Id Received 800000c0 Message Length is 64        
CAN Profile App:Test completed for 0 instance 

CAN Profile App:Will Transmit &amp; Receive 10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive  10000 packets 5 times
CAN Profile App:Average of 184.2857 usecs per packet 
CAN Profile App:Average of 5433 packets in 1 second with CPU Load 11.330078% 
CAN Profile App:Measured Load: Total CPU: 11.330063%, HWI: 6.899472%, SWI:0.106642% TSK: 4.323964%
CAN Profile App:Message Id Received 800000d0 Message Length is 64        
CAN Profile App:Test completed for 1 instance 

CAN Profile App:Will Transmit &amp; Receive 10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive  10000 packets 5 times
CAN Profile App:Average of 183.24800 usecs per packet 
CAN Profile App:Average of 5449 packets in 1 second with CPU Load 10.718618% 
CAN Profile App:Measured Load: Total CPU: 10.718605%, HWI: 6.508162%, SWI:0.112530% TSK: 4.097926%
CAN Profile App:Message Id Received 800000e0 Message Length is 64        
CAN Profile App:Test completed for 2 instance 

CAN Profile App:Will Transmit &amp; Receive 10000 Messages, 5 times
CAN Profile App:NOTE : Operating in internal loop-back mode
CAN Profile App:Transmit &amp; Receive  10000 packets 5 times
CAN Profile App:Average of 185.30839 usecs per packet 
CAN Profile App:Average of 5387 packets in 1 second with CPU Load 11.123057% 
CAN Profile App:Measured Load: Total CPU: 11.123047%, HWI: 6.541216%, SWI:0.113859% TSK: 4.467983%
CAN Profile App:Message Id Received 800000f0 Message Length is 64        
CAN Profile App:Test completed for 3 instance 

CAN Profile App: 8192 bytes used for stack 
CAN Profile App:Profiling completes sucessfully!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a></p>
<hr/>
 <h3><a class="anchor" id="demo_can_profile_j721e_output_rx_mcu2_1"></a>
Sample output rx only mode on MCU2_1</h3>
<p>Below is the log from one of the runs, when CAN is configured in Receive only mode. </p><pre class="fragment">CAN Profile App: Variant - Pre Compile being used !!!
CAN Profile App: Successfully Enabled CAN Transceiver Main Domain Inst 4,9,11!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN0!!!
CAN Profile App: Successfully Enabled CAN Transceiver MCU MCAN1!!!
CAN Profile App:Will Receive 10000 Messages, 5 times
CAN Profile App:Receive  10000 packets 5 times
CAN Profile App:Average of 995.49441 usecs per packet 
CAN Profile App:Average of 1004 packets in 1 second with CPU Load 1.473880% 
CAN Profile App:Measured Load: Total CPU: 1.484657%, HWI: 1.299653%, SWI:0.052374% TSK: 0.121852%
CAN Profile App: 8192 bytes used for stack 
CAN Profile App:Profiling completes sucessfully!!!
</pre><p><a class="el" href="demo_can_profile_top.html">Back To Top</a></p>
<hr/>
<h1><a class="anchor" id="demo_can_profile_rev_history"></a>
Document Revision History</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Revision  </th><th class="markdownTableHeadNone">Date  </th><th class="markdownTableHeadNone">Author  </th><th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Status   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.1  </td><td class="markdownTableBodyNone">24 Dec 2018  </td><td class="markdownTableBodyNone">Sujith S  </td><td class="markdownTableBodyNone">Initial Version  </td><td class="markdownTableBodyNone">Under Review   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.2  </td><td class="markdownTableBodyNone">13 Jan 2019  </td><td class="markdownTableBodyNone">Sunil M S  </td><td class="markdownTableBodyNone">Updated logs and setup picture (MCAL-2661)  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.3  </td><td class="markdownTableBodyNone">16 Jul 2019  </td><td class="markdownTableBodyNone">Sujith S  </td><td class="markdownTableBodyNone">Added logs for J721E  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.4  </td><td class="markdownTableBodyNone">8 Aug 2019  </td><td class="markdownTableBodyNone">Sunil M S  </td><td class="markdownTableBodyNone">Updates profile numbers for release 00.09.01  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.5  </td><td class="markdownTableBodyNone">16 Oct 2019  </td><td class="markdownTableBodyNone">Sujith S &amp; Karan S  </td><td class="markdownTableBodyNone">Updates profile numbers for release 01.00.00 &amp; Added option to change operating mode  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.6  </td><td class="markdownTableBodyNone">4 Feb 2020  </td><td class="markdownTableBodyNone">Jonathan Bergsagel  </td><td class="markdownTableBodyNone">Updated measurement details for CAN response time  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0.7  </td><td class="markdownTableBodyNone">6 Feb 2020  </td><td class="markdownTableBodyNone">Sunil M S  </td><td class="markdownTableBodyNone">Updated output logs and performance measurement  </td><td class="markdownTableBodyNone">Approved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">0.8  </td><td class="markdownTableBodyNone">7 Feb 2020  </td><td class="markdownTableBodyNone">Karan S  </td><td class="markdownTableBodyNone">Updated can profile app logs for mcu2_1  </td><td class="markdownTableBodyNone">Approved   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="demo_top.html">MCUSS Demo Applications</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
