

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.14. UDMA &mdash; Platform Development Kit (PDK) - J721S2 User Guide</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="Platform Development Kit (PDK) - J721S2 User Guide" href="../../index.html"/>
        <link rel="up" title="5. Modules" href="index_modules_j721s2.html"/>
        <link rel="next" title="5.15. PMIC" href="../../modules/pmic.html"/>
        <link rel="prev" title="5.13. UART" href="../../modules/uart.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  <header id="tiHeader">
    <div class="top">
      <ul>
        <li id="top_logo">
          <a href="http://www.ti.com">
            <img src="../../_static/img/ti_logo.png"/>
          </a>
        </li>
      </ul>
    </div>
    <div class="nav"></div>
  </header>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index_j721s2.html" class="icon icon-home"> Platform Development Kit (PDK) - J721S2 User Guide
          

          
          </a>

          
            
            
              <div class="version">
                08_06_01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_release_notes_j721s2.html">2. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ccs_setup_j721s2.html">4. CCS Setup for J721S2</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index_modules_j721s2.html">5. Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../modules/csl.html">5.1. CSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/freertos.html">5.2. FreeRTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="index_modules_safertos_j721s2.html">5.3. SafeRTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/osal.html">5.4. OSAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/enet.html">5.5. ENET</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/gpio.html">5.6. GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/i2c.html">5.7. I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/ipc.html">5.8. IPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/mcasp.html">5.9. McASP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/pm.html">5.10. PM</a></li>
<li class="toctree-l2"><a class="reference internal" href="index_modules_sciclient_j721s2.html">5.11. SCICLIENT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/spi.html">5.12. SPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/uart.html">5.13. UART</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">5.14. UDMA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">5.14.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-interface">5.14.2. User Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apis">5.14.2.1. APIs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#application">5.14.3. Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#examples">5.14.3.1. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/pmic.html">5.15. PMIC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/mmcsd.html">5.16. MMCSD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/dss.html">5.17. DSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modules/fvid2.html">5.18. FVID2 User Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index_boot_j721s2.html">6. Bootloader (SBL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_board_j721s2.html">7. Board/EVM Abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_howto_j721s2.html">8. How to Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_faq_j721s2.html">9. Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="index_developer_notes_j721s2.html">10. Developer Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index_j721s2.html">Platform Development Kit (PDK) - J721S2 User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index_j721s2.html">Docs</a> &raquo;</li>
      
          <li><a href="index_modules_j721s2.html">5. Modules</a> &raquo;</li>
      
    <li>5.14. UDMA</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="udma">
<h1>5.14. UDMA<a class="headerlink" href="#udma" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>5.14.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>UDMA is the DMA engine used to do direct memory access (DMA) between different peripherals like McASP,
SPI, UART and memory (DDR, L2, L3, MSMC) without CPU intervention in next generation TI SoCs like J721S2.
The DMA architecture specifies the data structures used by standard communications
modules to facilitate direct memory access (DMA) and to provide a consistent application programming
interface (API) to the host software in multi-core devices. The data structures and the API used to
manipulate them will be jointly referred to as Navigator Subsystem (NAVSS).</p>
<p>The UDMA driver provides API to program the DMA portion of the Navigator Subsystem (NAVSS)
to setup and initiate transfers. Below are the high level features supported by the driver
|</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Both Main and MCU NAVSS instances</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Supports all DMA operations from these instances from all the cores in the SOC</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>UDMAP block copy using native NAVSS channels</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>PDMA module to initiate transfers to/from PDMA peripherals like UART, McASP, McSPI, ADC, MCAN</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>DMA transfer to/from from native PSIL peripherals like EMAC, CPSW, SA2UL</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Event and interrupt management like DMA completion, channel chaining, interrupt sharing using IA</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Resources management across instances and cores for UDMAP DMA channels,RX flow, External UTC channel (DRU),
interrupt aggregators (IA), interrupt routers (IR),global events, ring accelerators (RA)</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Interaction with DMSC RM module via SCICLIENT for all non-RealTime (NRT) configuration</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Supports both RTOS and baremetal</li>
</ul>
<p><strong>Notes</strong></p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>UDMA driver doesn&#8217;t manage/allocate the descriptor and RA memory.The caller need to allocate
and provide the required memory.</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>UDMA driver doesn&#8217;t use any global variables. All the required object memory like channel,
driver instance, event etc should be allocated by the caller</li>
</ul>
<p>This document has detailed API description that user can use
to make use of the UDMA driver.</p>
</div>
<div class="section" id="user-interface">
<h2>5.14.2. User Interface<a class="headerlink" href="#user-interface" title="Permalink to this headline">¶</a></h2>
<p>For details about individual fields of this library structure, see the
PDK doxygen documentation</p>
<div class="section" id="apis">
<h3>5.14.2.1. APIs<a class="headerlink" href="#apis" title="Permalink to this headline">¶</a></h3>
<p>The UDMA driver API can be broadly divided into the following categories</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>UDMAP native channel API</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>PDMA channel operations</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Event and interrupt API</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>Ring API</li>
</ul>
<p>In addition to above drivers the UDMA package also includes many sample
examples which show how to use the drivers in different ways. Many of
these sample examples use a common set of APIs which a user may find
useful to refer to for use in their final application.</p>
<p>API reference for application:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#include</span> <span class="cpf">&lt;ti/drv/udma/udma.h&gt;</span><span class="cp"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="application">
<h2>5.14.3. Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<div class="section" id="examples">
<h3>5.14.3.1. Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../modules/pmic.html" class="btn btn-neutral float-right" title="5.15. PMIC" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../modules/uart.html" class="btn btn-neutral" title="5.13. UART" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2020</a>, Texas Instruments Incorporated. All rights reserved. <br>
      <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'08_06_01',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
        });

      var menuHeight = window.innerHeight;

      var contentOffset = $(".wy-nav-content-wrap").offset();
      var contentHeight = $(".wy-nav-content-wrap").height();
      var contentBottom = contentOffset.top + contentHeight;

      function setNavbarTop() {
          var scrollTop = $(window).scrollTop();
          var maxTop = scrollTop + menuHeight;

          // If past the header
          if (scrollTop > contentOffset.top && maxTop < contentBottom) {
            stickyTop = scrollTop - contentOffset.top;
          } else if (maxTop > contentBottom) {
            stickyTop = scrollTop - contentOffset.top - (maxTop - contentBottom);
          } else {
            stickyTop = 0;
          }

          $(".wy-nav-side").css("top", stickyTop);
      }

      $(document).ready(function() {
        setNavbarTop();
        $(window).scroll(function () {
          setNavbarTop();
        });
      });
  </script>
   

</body>
</html>