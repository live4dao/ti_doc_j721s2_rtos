

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.5.3.1. lwIP User’s Guide &mdash; Platform Development Kit (PDK) - J721S2 User Guide</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="Platform Development Kit (PDK) - J721S2 User Guide" href="../index.html"/>
        <link rel="up" title="5.5. ENET" href="enet.html"/>
        <link rel="next" title="5.6. GPIO" href="gpio.html"/>
        <link rel="prev" title="5.5. ENET" href="enet.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  <header id="tiHeader">
    <div class="top">
      <ul>
        <li id="top_logo">
          <a href="http://www.ti.com">
            <img src="../_static/img/ti_logo.png"/>
          </a>
        </li>
      </ul>
    </div>
    <div class="nav"></div>
  </header>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index_j721s2.html" class="icon icon-home"> Platform Development Kit (PDK) - J721S2 User Guide
          

          
          </a>

          
            
            
              <div class="version">
                08_06_01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../family_cfg/j721s2/index_release_notes_j721s2.html">2. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ccs_setup_j721s2.html">4. CCS Setup for J721S2</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../family_cfg/j721s2/index_modules_j721s2.html">5. Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="csl.html">5.1. CSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="freertos.html">5.2. FreeRTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../family_cfg/j721s2/index_modules_safertos_j721s2.html">5.3. SafeRTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="osal.html">5.4. OSAL</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="enet.html">5.5. ENET</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="enet.html#introduction">5.5.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="enet.html#user-interface">5.5.2. User Interface</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="enet.html#lwip-integration">5.5.3. lwIP Integration</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="">5.5.3.1. lwIP User&#8217;s Guide</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="enet.html#application">5.5.4. Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gpio.html">5.6. GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="i2c.html">5.7. I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipc.html">5.8. IPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="mcasp.html">5.9. McASP</a></li>
<li class="toctree-l2"><a class="reference internal" href="pm.html">5.10. PM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../family_cfg/j721s2/index_modules_sciclient_j721s2.html">5.11. SCICLIENT</a></li>
<li class="toctree-l2"><a class="reference internal" href="spi.html">5.12. SPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="uart.html">5.13. UART</a></li>
<li class="toctree-l2"><a class="reference internal" href="../family_cfg/j721s2/index_modules_udma_j721s2.html">5.14. UDMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="pmic.html">5.15. PMIC</a></li>
<li class="toctree-l2"><a class="reference internal" href="mmcsd.html">5.16. MMCSD</a></li>
<li class="toctree-l2"><a class="reference internal" href="dss.html">5.17. DSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="fvid2.html">5.18. FVID2 User Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../family_cfg/j721s2/index_boot_j721s2.html">6. Bootloader (SBL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../family_cfg/j721s2/index_board_j721s2.html">7. Board/EVM Abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../family_cfg/j721s2/index_howto_j721s2.html">8. How to Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../family_cfg/j721s2/index_faq_j721s2.html">9. Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../family_cfg/j721s2/index_developer_notes_j721s2.html">10. Developer Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index_j721s2.html">Platform Development Kit (PDK) - J721S2 User Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index_j721s2.html">Docs</a> &raquo;</li>
      
          <li><a href="../family_cfg/j721s2/index_modules_j721s2.html">5. Modules</a> &raquo;</li>
      
          <li><a href="enet.html">5.5. ENET</a> &raquo;</li>
      
    <li>5.5.3.1. lwIP User&#8217;s Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lwip-user-s-guide">
<span id="enet-lwip-userguide"></span><h1>5.5.3.1. lwIP User&#8217;s Guide<a class="headerlink" href="#lwip-user-s-guide" title="Permalink to this headline">¶</a></h1>
<p>This lwIP User&#8217;s Guide document is organized as follows:</p>
<ol class="arabic simple">
<li>Section 1 <strong>&#8220;lwIP Introduction and SDK Introduction&#8221;</strong> provides an overview
of the lwIP stack and how it has been integrated into TI SDK.</li>
<li>Section 2 <strong>&#8220;lwIP Porting&#8221;</strong> covers the porting steps.</li>
<li>And finally, section 3 <strong>&#8220;Migration Guide&#8221;</strong> provides a comparison of lwIP
with respect to NDK for customers that are migrating from NDK stack supported
in previous SDK releases.</li>
</ol>
<div class="section" id="lwip-introduction-and-sdk-integration">
<h2>5.5.3.1.1. lwIP Introduction and SDK Integration<a class="headerlink" href="#lwip-introduction-and-sdk-integration" title="Permalink to this headline">¶</a></h2>
<p>LwIP is a free TCP/IP stack developed by Adam Dunkels at the Swedish Institute of
Computer Science (SICS) and licensed under a modified BSD license (completely
open-source).</p>
<p>lwIP enables full-fledge TCP/IP stack implementation on embedded systems while
consuming minimal system resources, including overall memory footprint for the
stack.</p>
<p>Core part of the lwIP stack is the IP (dual stack implementation for IPv4/IPv6)
layer along with configurable user selection of TCP, UDP, DHCP, and many other
protocols.</p>
<p>The list below summarizes some of the key feaures supported by lwIP stack.</p>
<ul class="simple">
<li>IPv4 and IPv6 (Internet Protocol v4 and v6)</li>
<li>ICMP (Internet Control Message Protocol) for network maintenance and debugging</li>
<li>IGMP (Internet Group Management Protocol) for multicast traffic management</li>
<li>UDP (User Datagram Protocol)</li>
<li>TCP (Transmission Control Protocol)</li>
<li>DNS (Domain Name Server)</li>
<li>SNMP (Simple Network Management Protocol)</li>
<li>DHCP (Dynamic Host Configuration Protocol)</li>
<li>PPP (Point to Point Protocol)</li>
<li>ARP (Address Resolution Protocol)</li>
</ul>
<p>The latest release versions of lwIP and lwIP contrib at the time of this writing
have been integrated into PDK, that is,
<a class="reference external" href="https://git.savannah.nongnu.org/cgit/lwip.git/tag/?h=STABLE-2_1_2_RELEASE">lwip v2.1.2</a>
and <a class="reference external" href="https://git.savannah.nongnu.org/cgit/lwip/lwip-contrib.git/tag/?h=STABLE-2_1_0_RELEASE">lwIP-contrib v2.1.0</a>.
Core portions of the lwIP stack are reused as is without any modifications.
Main additions from TI include driver for CPSW, ICSS-G peripherals built on
Enet LLD API.</p>
<div class="section" id="enet-lld-based-lwip-network-interface-driver">
<h3>5.5.3.1.1.1. Enet LLD-based lwIP Network Interface Driver<a class="headerlink" href="#enet-lld-based-lwip-network-interface-driver" title="Permalink to this headline">¶</a></h3>
<p>Enet LLD based lwIP network interface driver has been integrated into PDK starting in
Processor SDK 8.0 release.  This driver enables lwIP TCP/IP stack on FreeRTOS for
CPSW peripherals (such as CPSW_2G, CPSW_5G and CPSW_9G) and ICSSG MAC peripheral.</p>
<p>lwIP network interface driver plays an equivalent role to the <cite>NIMU adaptation layer</cite>
in TI NDK stack, so often times in this document, <cite>lwIP network interface driver</cite>
will be referred to as <cite>lwIP adaptation layer</cite> to convey that similarity, as readers
may be familiar with TI NDK stack supported in previous SDK releases.</p>
<p>The diagram below shows a layered view of the relevant components in the lwIP integration.
The lwIP network interface driver (shown as <cite>lwipif</cite> in the digram) sits on top of
Enet LLD, using Enet&#8217;s DMA APIs to build a lwIP network driver layer that acts as a glue
between Enet LLD and stack, which seamlessly supports the Ethernet peripherals natively
supported by Enet LLD.</p>
<img alt="../_images/Enet_lwIP_Diagram.png" src="../_images/Enet_lwIP_Diagram.png" />
<p>As shown in the diagram, an Enet LLD example application is provided as part of the SDK.
This example application is based on lwIP contrib&#8217;s example located at
<cite>lwip-contrib/examples/example_app/test.c</cite>, so it enables lwIP contrib&#8217;s applications
such as TCP echo, UDP echo and lwIP iperf apps. The Enet LLD lwip example can be found at:
<code class="docutils literal"><span class="pre">&lt;pdk&gt;/packages/ti/drv/enet/examples/enet_lwip_example</span></code>.</p>
</div>
<div class="section" id="inter-core-lwip-virtual-network-interface-driver">
<h3>5.5.3.1.1.2. Inter-core lwIP Virtual Network Interface Driver<a class="headerlink" href="#inter-core-lwip-virtual-network-interface-driver" title="Permalink to this headline">¶</a></h3>
<p>Starting with SDK 8.1, the Enet LLD includes an inter-core virtual Ethernet driver.
The virtual Ethernet driver uses a software based shared memory packet transport
which is integrated with lwIP stack to allow TCP/IP communication between cores.</p>
<p>The diagram below shows a layered view of the inter-core virtual Ethernet driver. At the
bottom is the inter-core layer which provides a shared memory based packet transport. This
packet transport is implented using lock-less circular queues and requires no synchronization
between the sender and receiver cores. A dedicated pair of TX and RX queues are used between
each pair of particpating cores to provide a full duplex communication channel.</p>
<p>Sitting above the packet transport, the inter-core lwIP interface layer (shown as <cite>lwipific</cite>
in the digram) acts as the adaptation layer between the lwIP stack and the shared memory
packet transport. This adaptation layer implements the primitives needed by the inter-core
lwIP network interface (netif) to send and receive Ethernet packets using the shared memory
transport.</p>
<p>Finally, the lwIP stack sits on top of the lwIP interface layer and allows cores to use
standard TCP/IP protocols to communicate with each other without using the CPSW_nG switch.</p>
<img alt="../_images/Intercore_virt_eth_rtos.png" src="../_images/Intercore_virt_eth_rtos.png" />
</div>
<div class="section" id="directory-structure">
<h3>5.5.3.1.1.3. Directory Structure<a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a></h3>
<div class="section" id="lwip-stack-and-contrib">
<h4>5.5.3.1.1.3.1. lwIP stack and contrib<a class="headerlink" href="#lwip-stack-and-contrib" title="Permalink to this headline">¶</a></h4>
<p>lwIP stack and contrib are integrated into PDK as is from the lwIP public repository,
refer to <a class="reference external" href="https://savannah.nongnu.org/git/?group=lwip">lwIP Git repository page</a>
for more information.</p>
<p>lwIP and lwIP contrib are placed into PDK&#8217;s transport directory, along with makefiles
to integrate them into PDK build system.  The directory structure is shown below:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre>packages/ti/transport/lwip/
├── lwip_component.mk       &lt;= Component makefile needed for PDK build system
├── lwip-contrib            &lt;= lwip/lwip-contrib git project
│   ├── addons
│   ├── apps
│   ├── Coverity
│   ├── examples
│   ├── Filelists.cmake
│   ├── Filelists.mk
│   ├── lib
│   └── ports
├── lwip-stack              &lt;= lwip git project
│   ├── CHANGELOG
│   ├── CMakeLists.txt
│   ├── COPYING
│   ├── doc
│   ├── FEATURES
│   ├── FILES
│   ├── lib
│   ├── README
│   ├── src
│   ├── test
│   └── UPGRADING
├── makefile_contrib        &lt;= Makefile to compile lwip-contrib in PDK
└── makefile_stack          &lt;= Makefile to compile lwip in PDK
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="enet-based-lwip-ethernet-interface-driver">
<h4>5.5.3.1.1.3.2. Enet-based lwIP Ethernet Interface Driver<a class="headerlink" href="#enet-based-lwip-ethernet-interface-driver" title="Permalink to this headline">¶</a></h4>
<p>The Enet lwIP Ethernet driver, shown in the directory tree below as <cite>lwipif</cite> directory,
provides the adaptation layer between lwIP stack and Enet LLD.  This adaptation layer
implements the operations needed by lwIP network interface (netif) to send and receive
packets using public Enet LLD APIs.</p>
<p>The relevant files of the Enet LLD based lwIP Ethernet driver are shown below:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre>packages/ti/drv/enet/lwipif/
├── inc                            &lt;= Enet lwIP header files
│   ├── default_netif.h            &lt;= Default interface header file
│   ├── lwip2enet.h
│   ├── lwip2lwipif.h
│   ├── lwipif2enet_appif.h        &lt;= Application interface header file
│   └── pbufQ.h
├── makefile                       &lt;= lwIP driver makefile
├── ports
│   ├── freertos                   &lt;= FreeRTOS port directory
│   │   ├── include
│   │   │   ├── arch
│   │   │   │   ├── cc.h
│   │   │   │   ├── perf.h
│   │   │   │   └── sys_arch.h
│   │   │   ├── lwipopts.h         &lt;= lwIP configuration file
│   │   │   └── lwippools.h        &lt;= lwIP buffer pool configuration file
│   │   └── sys_arch.c
│   └── tirtos                     &lt;= TI-RTOS port directory (not applicable for J721E/J7200/AM65xx)
│       ├── include
│       │   ├── arch
│       │   │   ├── cc.h
│       │   │   ├── perf.h
│       │   │   └── sys_arch.h
│       │   ├── lwipopts.h
│       │   └── lwippools.h
│       └── sys_arch.c
└── src                            &lt;= lwIP driver source files
    ├── default_netif.c            &lt;= lwIP default interface
    ├── lwip2enet.c                &lt;= lwIP to Enet adaptation
    ├── lwip2lwipif.c              &lt;= lwIP netif base functions
    ├── lwip2lwipif_priv.h
    └── pbufQ.c
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="inter-core-virtual-ethernet-driver">
<h4>5.5.3.1.1.3.3. Inter-core Virtual Ethernet Driver<a class="headerlink" href="#inter-core-virtual-ethernet-driver" title="Permalink to this headline">¶</a></h4>
<p>The directory structure of the Inter-core lwIP virtual Ethernet driver is given below:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre>packages/ti/drv/enet/intercore/
├── include                        &lt;= Inter-core transport header files
│   ├── ic_ipc.h                   &lt;= Inter-core IPC functions
│   ├── ic_queue.h
│   └── ic_queue_data.h            &lt;= Shared packet queues
├── src                            &lt;= Inter-core transport source files
│   ├── ic_queue.c
│   └── ic_queue_data.c            &lt;= Shared packet queues
├── intercore.h                    &lt;= Inter-core transport interface header
└── makefile                       &lt;= Inter-core transport makefile
</pre></div>
</div>
<div class="highlight-cpp"><div class="highlight"><pre>packages/ti/drv/enet/lwipific/
├── inc                            &lt;= Inter-core Ethernet lwIP header files
│   ├── bufpool.h                  &lt;= Shared buffer pool manager header
│   ├── lwip2enet_ic.h
│   ├── lwip2lwipif_ic.h
│   └── netif_ic.h                 &lt;= lwIP inter-core interface
├── src                            &lt;= Inter-core transport source files
│   ├── bufpool.c                  &lt;= Shared buffer pool manager functions
│   ├── lwip2enet_ic.c
│   ├── lwip2lwipif_ic.c
│   └── netif_ic.c                 &lt;= lwIP inter-core interface
└── makefile                       &lt;= Inter-core lwIP driver makefile
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="phy-management">
<h3>5.5.3.1.1.4. PHY Management<a class="headerlink" href="#phy-management" title="Permalink to this headline">¶</a></h3>
<p>Enet LLD supports independent PHY drivers, which gives the ability to enable different PHY
models in the same system and/or configure them with different parameters (i.e. auto-negotiation
or manual mode, auto-negotiation advertise capabilities, etc).</p>
<p>Each PHY has its own state machine in the driver in order to handle the lifecycle of each
Ethernet PHY independently.  The state machine runs every time that the application calls
<code class="docutils literal"><span class="pre">Enet_periodicTick()</span></code> function.  Application can query the link status of any PHY using
<code class="docutils literal"><span class="pre">ENET_PER_IOCTL_IS_PORT_LINK_UP</span></code> IOCTL command.  Please refer to the <cite>Ethernet PHY
Integration Guide</cite> in PDK API Guide for further information about Enet LLD PHY.</p>
<p>The PHY configuration is not in the scope of the lwIP driver, but the link status query is.
Enet LLD provides a hook for application to register the function that lwIP-to-Enet layer
should call periodically to query for link status: <code class="docutils literal"><span class="pre">LwipifEnetAppIf_IsPhyLinkedCbFxn</span></code>.
This allows Enet lwIP driver to remain agnostic of PHY specific status query mechanism.</p>
</div>
</div>
<div class="section" id="lwip-porting">
<h2>5.5.3.1.2. lwIP Porting<a class="headerlink" href="#lwip-porting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="freertos-port">
<h3>5.5.3.1.2.1. FreeRTOS Port<a class="headerlink" href="#freertos-port" title="Permalink to this headline">¶</a></h3>
<p>TI SDK FreeRTOS port includes implementation of OS services abstraction layer (OSAL) which
is used by most drivers.</p>
<p>lwIP needs basic OS services as outlined in the table below. For these, we leverage the lwIP
contrib&#8217;s FreeRTOS binding for required OS services.</p>
<p>Enet LLD&#8217;s FreeRTOS port can be located at <code class="docutils literal"><span class="pre">&lt;pdk&gt;/packages/ti/drv/enet/lwipif/ports/freertos/sys_arch.c</span></code>.</p>
<p>The following table summarizes the mapping of lwIP port functions to FreeRTOS.</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">lwIP OSAL Function</th>
<th class="head">FreeRTOS Mapping</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#8216;Fast&#8217; protect</td>
<td>Recursive semaphore</td>
</tr>
<tr class="row-odd"><td>Mutex</td>
<td>Recursive mutex</td>
</tr>
<tr class="row-even"><td>Semaphore</td>
<td>Binary semaphore</td>
</tr>
<tr class="row-odd"><td>Mailbox</td>
<td>Queue</td>
</tr>
<tr class="row-even"><td>Thread</td>
<td>Task</td>
</tr>
</tbody>
</table>
<p>Note that lwIP is supported only on FreeRTOS.</p>
</div>
<div class="section" id="initialization-sequence">
<h3>5.5.3.1.2.2. Initialization Sequence<a class="headerlink" href="#initialization-sequence" title="Permalink to this headline">¶</a></h3>
<p>The sequence diagram below shows the most important functions involved during the
initialization of the lwIP stack of an application that enables DHCP client.</p>
<img alt="../_images/Enet_lwIP_open.png" src="../_images/Enet_lwIP_open.png" />
<ol class="arabic simple">
<li>The stack initialization begins when the application calls <code class="docutils literal"><span class="pre">tcpip_init()</span></code>
functions and passes an initialization function which lwIP will call once it&#8217;s
done with the tcpip_thread initialization.</li>
<li>The application must add the Enet LLD network interface to lwIP list of network
interfaces (<em>netifs</em> in lwIP parlance) by calling <code class="docutils literal"><span class="pre">netif_add()</span></code>, which takes
the interface initialization function which is called <code class="docutils literal"><span class="pre">LWIPIF_LWIP_init()</span></code> in
Enet LLD.</li>
<li>lwIP adaptation layer delegates the TX and RX DMA channel allocation and
initialization to the application as the application is best fit to determine
the intended channel and its parameters.  This will be covered in the
<cite>Opening DMA channels</cite> section.</li>
<li>The application can designate one of the registered network interfaces as the
default network interface, this is then used by lwIP to route packets when
the right interface cannot be found.<ul>
<li><strong>Note</strong>: For the sake of simplicity, <code class="docutils literal"><span class="pre">netif_add()</span></code> and <code class="docutils literal"><span class="pre">netif_set_default()</span></code>
are shown as being explicitly called by the application in the initialization
sequence diagram, but application can call <code class="docutils literal"><span class="pre">init_default_netif()</span></code> which in
turn will call those two functions internally, making Enet LLD-based interface
as the default netif.</li>
</ul>
</li>
<li>The application should register a function that will be called when interface is
brought up or down via <code class="docutils literal"><span class="pre">netif_set_status_callback()</span></code>.  Application can use this
callback to notify the user about the interface status change.</li>
<li>Bring up the Enet LLD interface by calling <code class="docutils literal"><span class="pre">netif_set_up()</span></code> with default netif
pointer.</li>
<li>Application can call <code class="docutils literal"><span class="pre">dhcp_start()</span></code> to start the DHCP negotiation.</li>
</ol>
</div>
<div class="section" id="opening-dma-channels">
<h3>5.5.3.1.2.3. Opening DMA channels<a class="headerlink" href="#opening-dma-channels" title="Permalink to this headline">¶</a></h3>
<p>The DMA channels opening process is delegated to the application in order to keep the
lwIP adaptation layer agnostic of DMA-specific paramters, such as channel number or
channel parameters (i.e. descriptor count, cache configuration, etc).</p>
<p>Applications using Enet LLD&#8217;s lwIP network driver must implement the following
functions:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="kt">void</span> <span class="n">LwipifEnetAppCb_getHandle</span><span class="p">(</span><span class="n">LwipifEnetAppIf_GetHandleInArgs</span> <span class="o">*</span><span class="n">inArgs</span><span class="p">,</span>
                               <span class="n">LwipifEnetAppIf_GetHandleOutArgs</span> <span class="o">*</span><span class="n">outArgs</span><span class="p">)</span>

<span class="kt">void</span> <span class="n">LwipifEnetAppCb_releaseHandle</span><span class="p">(</span><span class="n">LwipifEnetAppIf_ReleaseHandleInfo</span> <span class="o">*</span><span class="n">releaseInfo</span><span class="p">)</span>
</pre></div>
</div>
<p>lwIP adaptation layer will pass the intended number of packets to allocate, callback
function to be called when packet is received or transmitted, etc., via <code class="docutils literal"><span class="pre">inArgs</span></code>
of <code class="docutils literal"><span class="pre">LwipifEnetAppCb_getHandle()</span></code>.  Application must open a TX and RX channel with
the requested parameters and return the channel handles via <code class="docutils literal"><span class="pre">outArgs</span></code>.</p>
<p>Similarly, when the adaptation layer is being shutdown, it will call
<code class="docutils literal"><span class="pre">LwipifEnetAppCb_releaseHandle()</span></code> which application must implement and close the
DMA channels opened in <code class="docutils literal"><span class="pre">LwipifEnetAppCb_getHandle()</span></code>.</p>
</div>
<div class="section" id="lwip-configuration">
<h3>5.5.3.1.2.4. lwIP Configuration<a class="headerlink" href="#lwip-configuration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="lwip-feature-module-configuration">
<h4>5.5.3.1.2.4.1. lwIP Feature/Module Configuration<a class="headerlink" href="#lwip-feature-module-configuration" title="Permalink to this headline">¶</a></h4>
<p>lwIP offers fully configurability of its features and modules via <cite>lwipopts.h</cite> header file,
where users can override lwIP&#8217;s default configuration.  In lwIP integration into Enet LLD,
this file is placed under <cite>&lt;pdk&gt;/packages/ti/drv/enet/lwipif/ports/freertos/include/lwipopts.h</cite>.
Enet LLD&#8217;s lwiptops.h enables UDP, IGMP, ICMP, DHCP, etc.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="20%" />
<col width="43%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Feature</th>
<th class="head">Config Option</th>
<th class="head">Summary</th>
<th class="head"><div class="first last line-block">
<div class="line">TI SDK</div>
<div class="line">Default Configuration</div>
<div class="line">Enabled (Y/N)</div>
</div>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ARP</td>
<td>LWIP_ARP</td>
<td>ARP support - resolves next hop MAC
address when transmitting and handle ARP
requests received on configured network
interface.</td>
<td>Y</td>
</tr>
<tr class="row-odd"><td>IPv4</td>
<td>LWIP_IPV4</td>
<td>IPv4 support as per RFC 791, RFC 3344.</td>
<td>Y</td>
</tr>
<tr class="row-even"><td>IPv6</td>
<td>LWIP_IPV6</td>
<td>IPv6 support as per RFC 2460, 2461, 2462,
2464 (not a full list).</td>
<td>N</td>
</tr>
<tr class="row-odd"><td>ICMP</td>
<td>LWIP_ICMP</td>
<td>ICMP handling of echo reply, destination
reachability and TTL exceed conditions.</td>
<td>Y</td>
</tr>
<tr class="row-even"><td>IGMP</td>
<td>LWIP_IGMP</td>
<td>Group Management Protocol, versions 2 and
3.</td>
<td>Y</td>
</tr>
<tr class="row-odd"><td>UDP</td>
<td>LWIP_UDP
LWIP_UDPLITE</td>
<td>UDP (RFC 768) and UDP lite protocol
support.</td>
<td>Y</td>
</tr>
<tr class="row-even"><td>TCP</td>
<td>LWIP_TCP</td>
<td>TCP protocol support.</td>
<td>Y</td>
</tr>
<tr class="row-odd"><td>DHCP</td>
<td>LWIP_DHCP</td>
<td>DHCP client to dynamically obtain IP
address from DHCP server.</td>
<td>Y</td>
</tr>
<tr class="row-even"><td>AUTOIP</td>
<td>LWIP_AUTOIP</td>
<td>Automatic dynamic IP address assignment
without a server.</td>
<td>N</td>
</tr>
<tr class="row-odd"><td>SNMP</td>
<td>LWIP_SNMP</td>
<td>SNMP with MIB-II support.</td>
<td>Y</td>
</tr>
<tr class="row-even"><td>DNS</td>
<td>LWIP_DNS</td>
<td>DNS client to resolve host name to
address.</td>
<td>Y</td>
</tr>
<tr class="row-odd"><td>Statistics</td>
<td>LWIP_STATS
LWIP_STATS_DISPLAY</td>
<td>Statistics collection.</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p>Users may need to enable lwIP debug infrastructure to troubleshoot lwIP application issues.
This can be done by setting <code class="docutils literal"><span class="pre">LWIP_DEBUG</span></code> flag as follows:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#define LWIP_DEBUG               1</span>
</pre></div>
</div>
<p>Also, user has to enable the debug flags of the stack features of interest by setting the
correspondig flag to <code class="docutils literal"><span class="pre">LWIP_DBG_ON</span></code>, for example:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="cp">#define MEM_DEBUG                LWIP_DBG_ON</span>
<span class="cp">#define MEMP_DEBUG               LWIP_DBG_ON</span>
<span class="cp">#define PBUF_DEBUG               LWIP_DBG_ON</span>
<span class="cp">#define TCPIP_DEBUG              LWIP_DBG_ON</span>
<span class="cp">#define NETIF_DEBUG              LWIP_DBG_ON</span>
</pre></div>
</div>
<p>Additionally, user may want to replace lwIP&#8217;s default print and assert functions with
own functions, which can be done as follows:</p>
<div class="highlight-udiff"><div class="highlight"><pre><span class="gh">diff --git a/lwipif/ports/freertos/include/arch/cc.h b/lwipif/ports/freertos/include/arch/cc.h</span>
<span class="gd">--- a/lwipif/ports/freertos/include/arch/cc.h</span>
<span class="gi">+++ b/lwipif/ports/freertos/include/arch/cc.h</span>
<span class="gu">@@ -34,6 +34,8 @@</span>

 /* std.h functions required */
 #include &lt;stdint.h&gt;
<span class="gi">+#include &lt;stdio.h&gt;</span>
<span class="gi">+#include &lt;stdlib.h&gt;</span>

 /* Define byte order of the system */
 #define BYTE_ORDER LITTLE_ENDIAN
 @@ -55,6 +57,21 @@
   handler;}} while(0)
 #endif

<span class="gi">+#ifdef printf</span>
<span class="gi">+#undef printf</span>
<span class="gi">+#define printf EnetAppUtils_print</span>
<span class="gi">+#endif</span>
<span class="gi">+</span>
<span class="gi">+extern void EnetAppUtils_print(const char *pcString, ...);</span>
<span class="gi">+#define LWIP_PLATFORM_DIAG(x) do {EnetAppUtils_print x;} while(0)</span>
<span class="gi">+#define LWIP_PLATFORM_ASSERT(x)                                          \</span>
<span class="gi">+    do {                                                                 \</span>
<span class="gi">+        volatile static int gEnetAssertWaitInLoop = 1;                   \</span>
<span class="gi">+        EnetAppUtils_print(&quot;Assertion \&quot;%s\&quot; failed at line %d in %s\n&quot;, \</span>
<span class="gi">+                           x, __LINE__, __FILE__);                       \</span>
<span class="gi">+        while (gEnetAssertWaitInLoop);                                   \</span>
<span class="gi">+    } while(0)</span>
<span class="gi">+</span>
 struct sio_status_s;
 typedef struct sio_status_s sio_status_t;
 #define sio_fd_t sio_status_t*
</pre></div>
</div>
</div>
<div class="section" id="buffer-pools">
<h4>5.5.3.1.2.4.2. Buffer Pools<a class="headerlink" href="#buffer-pools" title="Permalink to this headline">¶</a></h4>
<p>Enet lwIP pool configuration defines 320 pbufs of MTU size, which is computed as follows:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">PBUF_POOL_SIZE</span> <span class="o">=</span> <span class="n">LWIP2ENET_TX_PACKETS</span> <span class="o">+</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">LWIP2ENET_RX_PACKETS</span><span class="p">)</span> <span class="o">*</span> <span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>Considering 64 packets per channel and 2 RX channels (i.e. j721e):</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="n">PBUF_POOL_SIZE</span> <span class="o">=</span> <span class="mi">64</span> <span class="o">+</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="mi">64</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">PBUF_POOL_SIZE</span> <span class="o">=</span> <span class="mi">320</span>
</pre></div>
</div>
<p>Developers can change the buffer pool size by setting <code class="docutils literal"><span class="pre">PBUF_POOL_SIZE</span></code> in
<cite>&lt;pdk&gt;/packages/ti/drv/enet/lwipif/ports/freertos/include/lwipopts.h</cite> and fine tuning
the static pool allocation in
<cite>&lt;pdk&gt;/packages/ti/drv/enet/lwipif/ports/freertos/include/lwippools.h</cite>.</p>
<div class="section" id="tx">
<h5>5.5.3.1.2.4.2.1. TX<a class="headerlink" href="#tx" title="Permalink to this headline">¶</a></h5>
<p>The total packet buffer allocation for TX is <cite>LWIP2ENET_TX_PACKETS</cite>.</p>
<p>When the stack is ready to transmit an Ethernet frame via <code class="docutils literal"><span class="pre">linkoutput()</span></code>, the
lwIP-to-Enet layer increases the pbuf reference counter to prevent the pbuf from being
recycled and releases pbuf only when the hardware transmission is complete.
<cite>LWIP2ENET_TX_PACKETS</cite> should be large enough to account for holding the pbuf longer
while waiting for hardware transmission to complete in order to prevent lwIP stack
from running out of free buffers for transmission.</p>
</div>
<div class="section" id="rx">
<h5>5.5.3.1.2.4.2.2. RX<a class="headerlink" href="#rx" title="Permalink to this headline">¶</a></h5>
<p>The total packet buffer utilization for RX is <cite>2 x LWIP2ENET_RX_PACKETS</cite>. At any given
time, the Ethernet hardware will have <cite>LWIP2ENET_RX_PACKETS</cite> free buffers while the other
<cite>LWIP2ENET_RX_PACKETS</cite> buffers will be either with the lwIP stack or the lwIP-to-Enet
layer.</p>
<p>At init time, each RX channel (or flow) is primed with <cite>LWIP2ENET_RX_PACKETS</cite> buffers
so that the driver and hardware have free buffers to place incoming Ethernet frames.
lwIP-to-Enet layer maintains a local <cite>free buffer queue</cite> which is initialized with
<cite>LWIP2ENET_RX_PACKETS</cite> buffers which will be used to replenish the driver with
new buffers.</p>
<p>At runtime, lwIP-to-Enet layer will retrieve from the Enet driver the new packets when
they arrive, and will feed the driver with the same amount of free buffers from its
local <cite>free buffer queue</cite>.  This ensures that the hardware doesn&#8217;t run out of free
buffers for new packets.</p>
</div>
</div>
</div>
<div class="section" id="tasking-model">
<h3>5.5.3.1.2.5. Tasking Model<a class="headerlink" href="#tasking-model" title="Permalink to this headline">¶</a></h3>
<p>TI SDK implementation will support running lwIP in a multi-thread OS environment. This
implies that the core stack will be run in an independent task context and other
application threads interact with it through the stack API (Netconn, Socket API -
refer details below).</p>
<p>With core part of the stack not being re-entrant, application should stick to using
Netconn/Socket API.  Mixed usage with RAW API though possible, would require carefully
constructed protection mechanism and is best avoided for common usage.</p>
<p>As part of the stack initialization, a separate thread <cite>&#8220;tcp_ip_thread&#8221;</cite> is created
and all stack handling of the packets is managed from this context.</p>
<p>In the final system, ensure that the priority of the <cite>tcp_ip_thread</cite>, application thread
and driver thread for packet handling are set in accordance with use case requirements.</p>
<p>On possible approach is to assign priority as <cite>networking_app_thread &gt; tcp_ip_thread &gt;
driver_thread</cite>, with the intent that if we are not able to keep with the packet rate,
the packets are dropped in the HW/driver itself.</p>
</div>
</div>
<div class="section" id="migration-guide">
<h2>5.5.3.1.3. Migration Guide<a class="headerlink" href="#migration-guide" title="Permalink to this headline">¶</a></h2>
<p>TI SDK releases in the past have included support for NDK as the TCP/IP network stack.
SDK releases starting SDK 8.0 release will be migrated to use lwIP as the networking
stack.</p>
<p>This helps leverage the strong, mature, highly configurable feature set of lwIP -
allowing completely scalability.</p>
<p>Applications written on top of NDK native API will require porting to run on top of
lwIP stack.</p>
<p>Sections below provide quick comparison of the feature compatibility between the two
network stack and also indicative mapping of Application API when migrating from
NDK to lwIP.</p>
<div class="section" id="lwip-vs-ndk-feature-comparison">
<h3>5.5.3.1.3.1. lwIP vs NDK  Feature Comparison<a class="headerlink" href="#lwip-vs-ndk-feature-comparison" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="58%" />
<col width="21%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Feature</th>
<th class="head">NDK</th>
<th class="head">lwIP</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BSD socket interface</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Multiple select support</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>Configurable activity timeout per socket</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>Dual mode support (IPv4 / IPv6)</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>Support IPv4 per RFC791</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>IP acquiring - DHCPv4 client, server</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>IP acquiring - Static IP configuration</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>DSCP</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>IP fragmentation support</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Multicast addressing, IGMPv2</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>Support IPv6 per RFC 2460</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>DHCPv6</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>DAD (Duplicate Address Detection)</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>MLDv1</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>NDP (Neighbor Discovery Protocol)</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>ICMP Ping v4, v6</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>IPSEC</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>Bridge between 2 NIs</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>Layer 3 routing</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Internal ARP management</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>ARP result caching</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>L3 Raw socket support</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>L4 Raw socket support</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>TCP support</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>UDP support</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>SSL3.0, TLS1.0, TLS1.1, TLS1.2, TLS1.3</td>
<td>Yes (mbedTLS)</td>
<td>Yes (mbedTLS)</td>
</tr>
<tr class="row-even"><td>DNS: IPV4, IPv6 address resolution</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>SNTP (Simple Network Time Protocol)</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">lwIP features listed are made available as is from public lwIP project.
SDK configuration may only enable and exercise a subset of these features.</p>
</div>
</div>
<div class="section" id="lwip-application-interface">
<h3>5.5.3.1.3.2. lwIP Application Interface<a class="headerlink" href="#lwip-application-interface" title="Permalink to this headline">¶</a></h3>
<p>lwIP provides multiple Application Programming Interfaces as described in the table below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="19%" />
<col width="42%" />
<col width="26%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Feature</th>
<th class="head">Config Option</th>
<th class="head">Summary</th>
<th class="head">Comments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Raw API</td>
<td>&nbsp;</td>
<td>Realized through callback functions.
Ideally suited for non-threaded application
execution.</td>
<td><ul class="first last simple">
<li>Not used with TI SDK.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>Netconn API</td>
<td>LWIP_NETCONN</td>
<td>Sequential (blocking) model, can be used
in multi-thread environment.</td>
<td><ul class="first last simple">
<li>Supported in TI SDK.</li>
<li>lwIP custom API - makes
application not portable</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>Socket API</td>
<td>LWIP_SOCKET</td>
<td>BSD sockets like, POSIX compatible.</td>
<td><ul class="first last simple">
<li>Supported in TI SDK.
<strong>Preferred</strong>.</li>
<li>Application portable, at
the cost of performance</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>For most part, applications are run in multi-threaded OS environment and are written
to make use of BSD Socket like API.</p>
<p>NDK also includes support for BSD socket API and applications written for BSD socket
API should be easily portable to lwIP.</p>
<p>lwIP supports BSD socket API (defined under <code class="docutils literal"><span class="pre">posix/sys/socket.h</span></code>), and socket API
mapping is summarized in the table below.  In this section we will look specifically
at mapping for NDK native socket API to lwIP BSD socket interface.</p>
<table border="1" class="docutils">
<colgroup>
<col width="45%" />
<col width="31%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Functionality</th>
<th class="head">NDK Socket API</th>
<th class="head">lwIP Socket API</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Accept a connection on a socket</td>
<td>NDK_accept()</td>
<td>accept()</td>
</tr>
<tr class="row-odd"><td>Bind a name to a socket</td>
<td>NDK_bind()</td>
<td>bind()</td>
</tr>
<tr class="row-even"><td>Initiate a connection on a socket</td>
<td>NDK_connect()</td>
<td>connect()</td>
</tr>
<tr class="row-odd"><td>Return name (address) of connected
peer</td>
<td>NDK_getpeername()</td>
<td>getpeername()</td>
</tr>
<tr class="row-even"><td>Return the local name (address) of
the socket</td>
<td>NDK_getsockname()</td>
<td>getsockname()</td>
</tr>
<tr class="row-odd"><td>Get the value of a socket option</td>
<td>NDK_getsockopt()</td>
<td>getsockopt()</td>
</tr>
<tr class="row-even"><td>Listen for connection requests on a
socket</td>
<td>NDK_listen()</td>
<td>listen()</td>
</tr>
<tr class="row-odd"><td>Receive data from a socket</td>
<td>NDK_recv()</td>
<td>recv()</td>
</tr>
<tr class="row-even"><td>Receive data from a socket with the
senders name (address)</td>
<td>NDK_recvfrom()</td>
<td>recvfrom()</td>
</tr>
<tr class="row-odd"><td>Receive Message API</td>
<td>&nbsp;</td>
<td>recvmsg()</td>
</tr>
<tr class="row-even"><td>Send data to a connected socket</td>
<td>NDK_send()</td>
<td>send()</td>
</tr>
<tr class="row-odd"><td>Send data to a specified destination
on an unconnected socket</td>
<td>NDK_sendto()</td>
<td>sendto()</td>
</tr>
<tr class="row-even"><td>Set the value of a socket option</td>
<td>NDK_setsockopt()</td>
<td>setsockopt()</td>
</tr>
<tr class="row-odd"><td>Close one half of a socket
connection</td>
<td>NDK_shutdown()</td>
<td>shutdown()</td>
</tr>
<tr class="row-even"><td>Create a socket</td>
<td>NDK_socket()</td>
<td>socket()</td>
</tr>
<tr class="row-odd"><td>Select interface to concurrently
poll on readiness of multiple
sockets</td>
<td>&nbsp;</td>
<td>select()</td>
</tr>
<tr class="row-even"><td>Poll interface to concurrently poll
on readiness of multiple sockets</td>
<td>&nbsp;</td>
<td>poll()</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gpio.html" class="btn btn-neutral float-right" title="5.6. GPIO" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="enet.html" class="btn btn-neutral" title="5.5. ENET" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2020</a>, Texas Instruments Incorporated. All rights reserved. <br>
      <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'08_06_01',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
        });

      var menuHeight = window.innerHeight;

      var contentOffset = $(".wy-nav-content-wrap").offset();
      var contentHeight = $(".wy-nav-content-wrap").height();
      var contentBottom = contentOffset.top + contentHeight;

      function setNavbarTop() {
          var scrollTop = $(window).scrollTop();
          var maxTop = scrollTop + menuHeight;

          // If past the header
          if (scrollTop > contentOffset.top && maxTop < contentBottom) {
            stickyTop = scrollTop - contentOffset.top;
          } else if (maxTop > contentBottom) {
            stickyTop = scrollTop - contentOffset.top - (maxTop - contentBottom);
          } else {
            stickyTop = 0;
          }

          $(".wy-nav-side").css("top", stickyTop);
      }

      $(document).ready(function() {
        setNavbarTop();
        $(window).scroll(function () {
          setNavbarTop();
        });
      });
  </script>
   

</body>
</html>